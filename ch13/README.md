# 13장 리액트 라우터로 SPA 개발하기

## 13.1 SPA란 ?

- SAP는 Single Page Application의 약어. 말 그대로 한 개의 페이지로 이루어진 애플리케이션을 말한다.
- 요즘은 웹에서 제공되는 정보가 많기 때문에 새로운 화면을 보여 주어야 할 때마다 서버 측에서 모든 뷰를 준비한다면 성능상의 문제가 발생할 수 있다. 따라서 **사용자와의 인터렉션이 자주 발생하는 모던 웹 애플리케이션에는 적당하지 않을 수 있다.**
- 리액트 같은 라이브러리 혹은 프레임워크를 사용하여 뷰 렌더링을 사용자의 브라우저가 담당하도록 하고, 우선 애플리케이션을 브라우저에 불러와서 실행시킨 후에 사용자와의 인터랙션이 발생하면 필요한 부분만 자바스크립트를 사용하여 업데이트 한다.
- 싱글 페이지라고 해서 화면이 한 종류인것만은 아니다. 서버에서 사용자에게 제공하는 페이지는 한 종류이지만, 해당 페이지에서 로딩된 자바스크립트와 현재 사용자 브라우저의 주소 상태에 따라 다양한 화면을 보여줄 수 있다.
- **다른 주소에 다른 화면을 보여 주는 것을 라우팅이라고 한다.**

### 13.1.1 SPA의 단점

- 앱의 규모가 커지면 자바스크립트 파일이 너무 커진다.
- 페이지 로딩 시 사용자가 실제로 방문하지 않을 수도 있는 페이지의 스크립트도 불러오기 때문이다.
- 이는 코드 스플리팅(code splitting)을 사용하면 라우트별로 파일들을 나누어서 트래픽과 로딩 속도를 개선할 수 있다.

### 13.2.1 라이브러리 설치 및 라우터 적용.

라이브러리 설치

```
yarn add react-router-dom
```

- 프로젝트에 리액트 라우터를 적용할 때는 src/index.js 파일에서 react-router-dom에 내장되어 있는 BrowserRouter 라는 컴포넌트를 사용하여 감싸면 된다.

### 13.2.3 페이지 만들기

- 라우트로 사용할 페이지인 Home.js 와 About.js 를 만듬.

### 13.2.4 Route 컴포넌트로 특정 주소에 컴포넌트 연결

- Route 컴포넌트를 사용하면 어떤 규칙을 가진 경로에 어떤 컴포넌트를 보여 줄지 정의할 수 있다.

```
<Route path="주소 규칙" component={보여 줄 컴포넌트} />
```

#### 문제점

/about 경로로 들어가면 About 컴포넌트만 나오기를 기대했지만, /about 경로가 / 규칙에도 일치하기 때문에 Home 컴포넌트도 같이 나온다.<br />
이는 Home을 위한 Route 컴포넌트를 사용할 때 exact라는 props를 true로 설정하면 된다.

### 13.2.5 Link 컴포넌트를 사용하여 다른 주소로 이동하기

- 클릭하면 다른 주소로 이동시켜 주는 컴포넌트.
- 페이지를 새로 불러오지 않고 애플리케이션은 그대로 유지한 상태에서 페이지의 주소만 변경해 준다. 페이지 전환에 의해 렌더링 된 컴포넌트들을 사라지게 하지 않는다.

```
<Link to="주소">내용</Link>
```

## 13.3 Route 하나에 여러 개의 path 설정하기

- Route를 두 번 사용하는 대신, path props를 배열로 설정해 주면 여러 경로에서 같은 컴포넌트를 보여 줄 수 있다.
